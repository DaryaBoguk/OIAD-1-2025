# Отчет по анализу данных
ФИО: Захаринский Владислав \
Группа: 1 группа МСС \
Номер в группе: 8\
Вариант: **Sleep_Hours**

## I. Расчет характеристик и графики для исходных данных
### Расчеты
- **Среднее (mean)**: 6.4898
- **Дисперсия (variance)**: 2.2222
- **Мода (mode)**: 6.1
- **Медиана (median)**: 6.5
- **Квантили**:
  - 0.25 (q25): 5.5
  - 0.5 (q50): 6.5
  - 0.75 (q75): 7.5
- **Эксцесс (excess kurtosis)**: -0.2954
- **Асимметрия (skewness)**: 0.0119
- **Интерквартильный размах (IQR)**: 2.0

### Графики
- **Гистограмма**: С 20 бинами и нормальной плотностью N(μ=6.49, σ≈1.49). Распределение симметричное, но плоское 
в центре с отклонениями от нормальной кривой.
- **Эмпирическая функция распределения (CDF)**: Ступенчатая, плавный рост

### Промежуточные выводы
Данные показывают средние часы сна ~6.5 ч, с умеренной вариацией (дисперсия~2.2). 
Симметрия (асимметрия~0) и мода/медиана близки к среднему. Отрицательный эксцесс указывает на плоскость (меньше пика, 
чем в нормальном). Гистограмма подтверждает симметрию. CDF типична для непрерывных данных. Это предполагает близость к 
нормальности, но требует проверки

## II. Проверка на нормальность для исходных данных
### Тесты
- **Хи-квадрат**: chi2=786.4015, df=51, p=0.0000 ( p < 0.05 -> отвергает нормальность). Observed/Expected частоты отличаются, особенно в центре (observed > expected) и на хвостах. Бины: 54 (после объединения для min_expected=5).
- **Шапиро-Уилка**: W=0.9951, p=0.0000 ( p < 0.05 -> отвергает нормальность).
- **Асимметрия (z-тест)**: g1=0.0119, SE=0.0447, z=0.2652, p=0.7909 (незначимо).
- **Эксцесс (z-тест)**: g2=-0.2954, SE=0.0894, z=-3.3059, p=0.0009 (значимо, плоско

### Промежуточные выводы
Все статистические тесты однозначно показывают, что данные не являются нормальными. 
Главной причиной ненормальности является значимый отрицательный эксцесс. Несмотря на то, что распределение симметрично,
его форма отклоняется от формы нормального. График Q-Q plot визуально подтверждает это: точки отклоняются от прямой
линии, особенно на краях распределения.

## III. Обработка данных для нормальности и повторение I/II
### Повторные тесты (II) по трансформациям

- **Raw/Baseline**: chi2=786.40, Shapiro p=2.27e-08, skew p=0.791, kurt p=0.001 (reject normal, significant kurt).
- **IQR_trimmed**: Идентично raw (нет изменений).
- **Winsorize_1pct**: chi2=786.40 (нет изменений), Shapiro p=2.27e-08 (нет изменений).
- **Log1p**: chi2=699.92, df=48, Shapiro p=3.65e-21 (хуже), skew p=4.41e-34, kurt p=0.037.
- **Box-Cox**: chi2=819.05, Shapiro p=2.37e-08 (немного лучше), skew p=0.589 (no skew), kurt p=0.001 (significant kurt).
- **Yeo-Johnson**: chi2=835.97, Shapiro p=2.38e-08 (best), skew p=0.652 (no skew), kurt p=0.001 (significant kurt).
- **Z-score**: chi2=773.36, Shapiro p=2.27e-08 (same as raw).
- **Min-Max**: chi2=786.40, Shapiro p=2.27e-08 (same as raw).

### Промежуточные выводы
Все отвергают нормальность (p<0.05), но Yeo-Johnson и Box-Cox улучшают Shapiro p (меньше отклонение) и сохраняют
незначимую асимметрию. Log1p ухудшает (вводит отрицательную асимметрию). Линейные (Z-score, Min-Max) и усечение 
(IQR, Winsorize) не меняют форму, тесты идентичны raw (кроме небольших вариаций в chi2 из-за численных эффектов).


## IV. Группировка по School_Grade
### Графики и статистики

- **Гистограммы на одном графике**: С 15 бинами, alpha=0.5, линии средних.
Группы: 7th (n=497), 8th (n=482), 9th (n=526), 10th (n=487), 11th (n=479), 12th (n=529).
Средние, дисперсии, counts:


| School_Grade | mean    | var    | count |
|--------------|:--------|--------|-------|
| 7th          | 6.4837  | 2.2876 | 497   |
| 8th          | 6.6753  | 2.4069 | 482   |
| 9th          | 6.4684  | 2.1969 | 526   |
| 10th         | 6.4883  | 2.1021 | 487   |
| 11th         | 6.3674  | 2.1131 | 479   |
| 12th         | 6.4597  | 2.2018 | 529   |


### Промежуточные выводы
Распределения групп похожи: симметричные вокруг 6.37–6.68 ч, дисперсия ~2.1–2.4. Различия малы.

## V. Общие выводы
Данные столбца Sleep_Hours близки к нормальным (симметрия, но плоские: значимый отрицательный эксцесс). 
Тесты отвергают нормальность во всех случаях. Группы по School_Grade имеют минимальные различия.